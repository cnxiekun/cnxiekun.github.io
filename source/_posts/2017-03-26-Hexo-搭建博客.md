---
title: Hexo æ­å»ºåšå®¢
date: 2017-03-26 00:00:00
categories: Technique
tags: Hexo
description: 
---

[Hexo](https://hexo.io/) é›†ç®€æ´å¤§æ–¹ç¾è§‚ä¸ä¸€ä½“ï¼

## å¿…è¦çš„ç¯å¢ƒé…ç½®

### å®‰è£… [homebrew](http://brew.sh/index_zh-cn.html)

æ‰“å¼€ terminalï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
$ ruby -e "$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)"
```

### å®‰è£… Node

ä½¿ç”¨ [homebrew](http://brew.sh/index_zh-cn.html) å®‰è£…ï¼Œ`brew install node` ä¸€é”®æå®šã€‚

`node.js` å®‰è£…å®Œæˆåï¼Œ`npm` ä¹Ÿå®‰è£…äº†ã€‚

<!--more-->

### å®‰è£… [Git](https://git-scm.com)

```bash
$ sudo brew install git
```

### é…ç½® [GitHub](https://github.com)

ä½¿ç”¨ GitHub Page æ­å»ºåšå®¢, éœ€è¦éµå¾ªä¸€å®šçš„è§„åˆ™, éœ€è¦åœ¨ github å»ºç«‹ä»“åº“,ä»“åº“åä¸º `username.github.io`, æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://pages.github.com).

æˆ‘æƒ³å¤§éƒ¨åˆ†æƒ³ç”¨ Hexo åˆ›å»ºåšå®¢çš„äººéƒ½ä¼šæœ‰å§ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ã€‚

### å®‰è£… [Hexo](https://hexo.io/)

- å®‰è£…

	```bash
	$ mkdir hexo # åˆ›å»ºåä¸º hexo çš„æ–‡ä»¶å¤¹
	$ cd hexo
	$ npm install -g hexo-cli
	$ npm install hexo --save
	```
	
- éƒ¨ç½² Hexoï¼šåˆå§‹åŒ–

	```bash
	$ hexo init
	```
	
- å®‰è£… Hexo æ’ä»¶ï¼šç”Ÿæˆ sitemapï¼ŒRssï¼Œéƒ¨ç½²åˆ° git ç­‰

	```bash
	$ npm install hexo-generator-index --save
	$ npm install hexo-generator-archive --save
	$ npm install hexo-generator-category --save
	$ npm install hexo-generator-tag --save
	$ npm install hexo-server --save
	$ npm install hexo-deployer-git --save
	$ npm install hexo-deployer-heroku --save
	$ npm install hexo-deployer-rsync --save
	$ npm install hexo-deployer-openshift --save
	$ npm install hexo-renderer-marked@0.2 --save
	$ npm install hexo-renderer-stylus@0.2 --save
	$ npm install hexo-generator-feed@1 --save
	$ npm install hexo-generator-sitemap@1 --save
  $ npm install https://github.com/CodeFalling/hexo-asset-image --save
	```
	
## æ¥ Hexo å§

### åˆ›å»ºæ–°åšæ–‡

æ‰§è¡Œ new å‘½ä»¤ï¼Œç”Ÿæˆåˆ¶å®šåç§°çš„æ–‡ç« è‡³ `hexo\source_posts\postName.md`ã€‚

```bash
$ hexo new [layout] "postName" # æ–°å»ºæ–‡ç« 
```

å…¶ä¸­ `layout` æ˜¯å¯é€‰å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º `post`ã€‚æœ‰å“ªäº› `layout`å‘¢ï¼Œè¯·åˆ° `scaffolds`ç›®å½•ä¸‹æŸ¥çœ‹ï¼Œè¿™äº›æ–‡ä»¶åç§°å°±æ˜¯ `layout`åç§°ã€‚å½“ç„¶ä½ å¯ä»¥æ·»åŠ è‡ªå·±çš„ `layout`ï¼Œæ–¹æ³•å°±æ˜¯æ·»åŠ ä¸€ä¸ªæ–‡ä»¶å³å¯ï¼ŒåŒæ—¶ä½ ä¹Ÿå¯ä»¥ç¼–è¾‘ç°æœ‰çš„ `layout`ï¼Œæ¯”å¦‚ `post` çš„ `layout`é»˜è®¤æ˜¯`hexo\scaffolds\post.md`ã€‚

å¯ä»¥ä¿®è¯¥é»˜è®¤çš„ `post` æ ¼å¼ï¼Œä¾‹å¦‚æ·»åŠ  `categories`/`description`ï¼Œä»¥é¿å…æ¯æ¬¡æ‰‹åŠ¨è¾“å…¥ï¼Œåªéœ€ä¿®æ”¹ `hexo\scaffolds\posts.md` æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š

```
---
title: {{ title }}
date: {{ date }}
categories:
tags:
description:
---
```

æ›´å¤šä¿¡æ¯å‚è€ƒï¼š[Writing](https://hexo.io/docs/writing.html)

æ¥ä¸‹æ¥ï¼Œä½ å°±å¯ä»¥ç”¨å–œçˆ±çš„ç¼–è¾‘å™¨å°½æƒ…ä¹¦å†™ä½ çš„æ–‡ç« ã€‚

å¯¹äºæ–‡ç« æ‘˜è¦ï¼Œåœ¨éœ€è¦æ˜¾ç¤ºæ‘˜è¦çš„åœ°æ–¹ï¼ˆMarkdown æ–‡ä»¶ä¸­ï¼‰æ·»åŠ å¦‚ä¸‹ä»£ç å³å¯ï¼š

```markdown
<!--more-->
```

`more` ä»¥ä¸Šå†…å®¹å³æ˜¯æ–‡ç« æ‘˜è¦ï¼Œåœ¨ä¸»é¡µæ˜¾ç¤ºï¼Œ`more` ä»¥ä¸‹å†…å®¹ç‚¹å‡» `Read More` é“¾æ¥æ‰“å¼€å…¨æ–‡æ‰æ˜¾ç¤ºã€‚


### ç”Ÿæˆé™æ€ç«™ç‚¹æ–‡ä»¶

æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œç”Ÿæˆé™æ€é¡µé¢è‡³ `hexo\public\` ç›®å½•ã€‚

```bash
$ hexo generate
```

å‚è€ƒï¼š[Generating](https://hexo.io/docs/generating.html)


### æœ¬åœ°å¯åŠ¨

æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œè¿›è¡Œæ–‡ç« é¢„è§ˆè°ƒè¯•ã€‚

```bash
$ hexo server
```

ç„¶åæµè§ˆå™¨è¾“å…¥ `http://localhost:4000` å°±å¯ä»¥çœ‹è§æ•ˆæœã€‚

å‚è€ƒï¼š[Server](https://hexo.io/docs/server.html)

### éƒ¨ç½²åˆ° Git

è¯·æ³¨æ„è¿™ä¸€æ­¥å¾ˆé‡è¦ï¼šéœ€è¦ä¿®æ”¹ä¸»ç›®å½•ï¼ˆ`hexo\`ï¼‰ä¸‹çš„ `_config.yml` æ–‡ä»¶ã€‚

æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```
deploy:
	type: git
	reposotory: git:github.com:<your github name>/<your github name>.github.io.git
	branch: master
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ¯ä¸ª `:` åé¢å¿…é¡»æœ‰ä¸€ä¸ªç©ºæ ¼ï¼

ç„¶å terminal è¾“å…¥ï¼š

```bash
$ hexo deploy
```

å‚è€ƒï¼š[Deployment](https://hexo.io/docs/deployment.html)

### ä¸»é¢˜è®¾ç½®

è¯¥åšå®¢é‡‡ç”¨ iissnan çš„ [Next](http://theme-next.iissnan.com) ä¸»é¢˜ï¼Œä»–çš„åšå®¢æœ‰è¯¦ç»†çš„å®‰è£…æ•™ç¨‹ï¼Œæœ‰éœ€è¦çš„æœ‹å‹ç›´æ¥å‚è€ƒä»–å†™çš„æ•™ç¨‹ï¼Œä¸€æ°”å‘µæˆ!

#### ä¸‹è½½ä¸»é¢˜

```bash
$ cd hexo
$ git clone https://github.com/iissnan/hexo-theme-next themes/next
```

#### åº”ç”¨ Hexo ä¸»é¢˜

åœ¨ `hexo` ç›®å½•ä¸‹æ‰¾åˆ° `_config.yml` é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ° `theme` å­—æ®µï¼Œå¹¶å°†å…¶å€¼æ›´æ”¹ä¸º 
`next`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
theme: next
```

#### 404é¡µé¢

`GitHub Pages` è‡ªå®šä¹‰404é¡µé¢éå¸¸å®¹æ˜“ï¼Œç›´æ¥åœ¨ `themes\next\source`ç›®å½•ä¸‹åˆ›å»ºè‡ªå·±çš„ `404.html` å°±å¯ä»¥ï¼Œå†…å®¹è‡ªå·±å†™ã€‚

### è‡ªå®šä¹‰é¡µé¢

æ‰§è¡Œå¦‚ä¸‹ `new page` å‘½ä»¤ï¼š

```bash
$ hexo new page "about"
$ hexo new page "categories"
```

åœ¨ `hexo\source\` ä¸‹ç”Ÿæˆ `about` å’Œ `categories` ç›®å½•ï¼Œé‡Œé¢å‡æœ‰ä¸ª `index.md` æ–‡ä»¶ã€‚

å½“ç„¶äº†ï¼Œä¸Šè¿°æ­¥éª¤ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç”Ÿæˆï¼Œæ•ˆæœå®Œå…¨ç­‰ä»·ã€‚

### å…¶ä»–è®¾ç½®

è¯·å‚è€ƒ `Next` å®˜æ–¹ç½‘ç«™è¯¦ç»†çš„è¯´æ˜æ–‡æ¡£ï¼š

- [å¼€å§‹ä½¿ç”¨](http://theme-next.iissnan.com/getting-started.html)
- [ä¸»é¢˜é…ç½®](http://theme-next.iissnan.com/theme-settings.html)
- [ç¬¬ä¸‰æ–¹æœåŠ¡](http://theme-next.iissnan.com/third-party-services.html)
- [å†…å»ºæ ‡ç­¾](http://theme-next.iissnan.com/tag-plugins.html)
- [è¿›é˜¶è®¾å®š](http://theme-next.iissnan.com/advanced-settings.html)
- [å¸¸è§é—®é¢˜](http://theme-next.iissnan.com/faqs.html)

æœ€åé™„ä¸Šæˆ‘çš„ä¸¤ä¸ª `_config.yml` é…ç½®æ–‡ä»¶ï¼Œä»…ä¾›å‚è€ƒã€‚

ä¸»ç›®å½•ä¸‹çš„ `_config.yml`ï¼š

```
# Hexo Configuration
## Docs: https://hexo.io/docs/configuration.html
## Source: https://github.com/hexojs/hexo/

# Site
title: è°¢å¤çš„åƒåœ¾æ¡¶
subtitle:
description: ç‚¹æ»´è®°å½•
author: Kun XIE
avatar: /images/avatar.jif
email: cnxiekun@gmail.com
language: en
timezone: Asia/Shanghai

# URL
## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'
url: https://cnxiekun.github.io
root: /
permalink: :year/:month/:day/:title/
permalink_defaults:

# Directory
source_dir: source
public_dir: public
tag_dir: tags
archive_dir: archives
category_dir: categories
code_dir: downloads/code
i18n_dir: :lang
skip_render:

search:
  path: search.xml
  field: post
  format: html
  limit: 10000

algolia:
  applicationID: T4EAJRWENM
  apiKey: d0fbcd9678a02177aed0e240450b16f7
  adminApiKey: 6d3edc31337639678747930de0fbcf0a
  indexName: cnxiekun
  chunkSize: 5000

# Writing
new_post_name: :year-:month-:day-:title.md # File name of new posts
default_layout: post
titlecase: false # Transform title into titlecase
external_link: true # Open external links in new tab
filename_case: 0
render_drafts: false
post_asset_folder: true
relative_link: false
future: true
highlight:
  enable: true
  line_number: true
  auto_detect: true
  tab_replace:

# Comment
# disqus_shortname: cnxiekun


# Category & Tag
default_category: uncategorized
category_map:
tag_map:

# Date / Time format
## Hexo uses Moment.js to parse and display date
## You can customize the date format as defined in
## http://momentjs.com/docs/#/displaying/format/
date_format: YYYY-MM-DD
time_format: HH:mm:ss

# Pagination
## Set per_page to 0 to disable pagination
per_page: 10
pagination_dir: page

# Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/themes/
theme: next

plugins: 
  hexo-generator-feed
  hexo-generator-sitemap
  hexo-generator-baidu-sitemap
  hexo-generator-searchdb

sitemap:
  path: sitemap.xml

baidusitemap:
  path: baidusitemap.xml

baidu_analytics: 2f520d888f817a8330fbc789d4fb8b82

google_analytics: UA-96296193-1

# Markdown-it config
## Docs: https://github.com/celsomiranda/hexo-renderer-markdown-it/wiki
markdown:
  render:
    html: true
    xhtmlOut: false
    breaks: true
    linkify: true
    typographer: true
    quotes: 'â€œâ€â€˜â€™'
  plugins:
    - markdown-it-abbr
    - markdown-it-footnote
    - markdown-it-ins
    - markdown-it-sub
    - markdown-it-sup
  anchors:
    level: 2
    collisionSuffix: 'v'
    permalink: false 
    permalinkClass: header-anchor
    permalinkSymbol: Â¶


# Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
  type: git
  repository: 
    github: git@github.com:cnxiekun/cnxiekun.github.io.git
    coding: git@git.coding.net:cnxiekun/cnxiekun.git
  branch: master
```

`Next` ä¸»é¢˜ç›®å½•ä¸‹çš„ `_config.yml`ï¼š

```
# ---------------------------------------------------------------
# Site Information Settings
# ---------------------------------------------------------------

# Put your favicon.ico into `hexo-site/source/` directory.
favicon: images/favicon.ico

# Set default keywords (Use a comma to separate)
keywords: "Hexo"

# Set rss to false to disable feed link.
# Leave rss as empty to use site's feed link.
# Set rss to specific value if you have burned your feed already.
rss: /atom.xml

# Specify the date when the site was setup
since: 2017

# ---------------------------------------------------------------
# Menu Settings
# ---------------------------------------------------------------

# When running the site in a subdirectory (e.g. domain.tld/blog), remove the leading slash (/archives -> archives)
menu:
  home: /
  categories: /categories
  archives: /archives
  tags: /tags
  about: /about
  #sitemap: /sitemap.xml
  #commonweal: /404.html

search:
  path: search.xml
  field: post
  format: html
  limit: 10000

# Enable/Disable menu icons.
# Icon Mapping:
#   Map a menu item to a specific FontAwesome icon name.
#   Key is the name of menu item and value is the name of FontAwesome icon. Key is case-senstive.
#   When an question mask icon presenting up means that the item has no mapping icon.
menu_icons:
  enable: true
  #KeyMapsToMenuItemKey: NameOfTheIconFromFontAwesome
  home: home
  about: user
  categories: th
  schedule: calendar
  tags: tags
  archives: archive
  sitemap: sitemap
  commonweal: heartbeat



# ---------------------------------------------------------------
# Scheme Settings
# ---------------------------------------------------------------

# Schemes
# scheme: Muse
scheme: Mist
#scheme: Pisces


# ---------------------------------------------------------------
# Sidebar Settings
# ---------------------------------------------------------------


# Social Links
# Key is the link label showing to end users.
# Value is the target link (E.g. GitHub: https://github.com/iissnan)
social:
  GitHub: https://github.com/cnxiekun
  Weibo: http://weibo.com/1740393132
  #LinkLabel: Link
  #Zhihu: Link


# Social Links Icons
# Icon Mapping:
#   Map a menu item to a specific FontAwesome icon name.
#   Key is the name of the item and value is the name of FontAwesome icon. Key is case-senstive.
#   When an globe mask icon presenting up means that the item has no mapping icon.
social_icons:
  enable: true
  # Icon Mappings.
  # KeyMapsToSocialItemKey: NameOfTheIconFromFontAwesome
  GitHub: github
  # Twitter: twitter
  Weibo: weibo
  # Zhihu: battery-3


# Sidebar Avatar
# in theme directory(source/images): /images/avatar.jpg
# in site  directory(source/uploads): /uploads/avatar.jpg
avatar: /images/avatar.gif


# Table Of Contents in the Sidebar
toc:
  enable: true

  # Automatically add list number to toc.
  number: true

sidebar:
  # Sidebar Position, available value: left | right
  position: left
  #position: right

  # Sidebar Display, available value:
  #  - post    expand on posts automatically. Default.
  #  - always  expand for all pages automatically
  #  - hide    expand only when click on the sidebar toggle icon.
  #  - remove  Totally remove sidebar including sidebar toggle.
  display: post
  #display: always
  #display: hide
  #display: remove

  # Sidebar offset from top menubar in pixels.
  offset: 12
  offset_float: 0

  # Back to top in sidebar
  b2t: false

  # Scroll percent label in b2t button
  scrollpercent: false


# Reward
# reward_comment: ğŸ¶ æ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œ ğŸ¶
# wechatpay: /images/wechat-reward-img.jpg
# alipay: /images/alipay-reward-img.jpg

word_count: true

# ---------------------------------------------------------------
# Misc Theme Settings
# ---------------------------------------------------------------

# Custom Logo.
# !!Only available for Default Scheme currently.
# Options:
#   enabled: [true/false] - Replace with specific image
#   image: url-of-image   - Images's url
custom_logo:
  enabled: true
  image: /images/Avatar.jpg


# Code Highlight theme
# Available value:
#    normal | night | night eighties | night blue | night bright
# https://github.com/chriskempson/tomorrow-theme
highlight_theme: normal
# highlight_theme: night bright


# ---------------------------------------------------------------
# Third Party Services Settings
# ---------------------------------------------------------------

# MathJax Support
mathjax:
  enable: false
  per_page: false
  cdn: //cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML


# Baidu Analytics ID
baidu_analytics: 2f520d888f817a8330fbc789d4fb8b82

# Disqus
# disqus_shortname: cnxiekun
# disqus:
#   enable: false
#   shortname: cnxiekun
#   count: true

# Support for youyan comments system.
# You can get your uid from http://www.uyan.cc
# youyan_uid: 2128937

# Google Analytics
google_analytics: UA-96296193-1

# Show number of visitors to each article.
# You can visit https://leancloud.cn get AppID and AppKey.
leancloud_visitors:
  enable: true
  app_id: IXMyI00IFXlKB52WfiEN5AHn-gzGzoHsz
  app_key: zlgQQpSX2pux66FQfj16Trnb

# Algolia Search
algolia_search:
  enable: false
  hits:
    per_page: 10
  labels:
    input_placeholder: Search for Posts
    hits_empty: "We didn't find any results for the search: ${query}"
    hits_stats: "${hits} results found in ${time} ms"

# Local search
local_search:
  enable: true


#! ---------------------------------------------------------------
#! DO NOT EDIT THE FOLLOWING SETTINGS
#! UNLESS YOU KNOW WHAT YOU ARE DOING
#! ---------------------------------------------------------------

# Motion
use_motion: true

# Fancybox
fancybox: true

# Assets
css: css
js: js
images: images

# Theme version
version: 5.1.0
```

æˆ‘çš„ `Hexo` æºä»£ç ï¼ˆåŒ…æ‹¬ `Next` ä¸»é¢˜ï¼‰éƒ½æ‰˜ç®¡åœ¨äº† [GitHub](https://github.com/cnxiekun/cnxiekun.github.io)ï¼Œæ¬¢è¿ forkï¼Œä»…éœ€ä¿®æ”¹å°‘é‡è®¾ç½®å³å¯ä½¿ç”¨ã€‚